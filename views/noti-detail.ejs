<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="../public/stylesheets/style.css" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>
    <title>TDT Network</title>
</head>
<body>
    <nav class="nav bg-light sticky-top nav-bar mb-2">
        <div class="container-fluid d-flex justify-content-around" id="img-nav">
            
            <img src="/public/logo.png" alt="logo" >
            <div >
                <a href="/">
                    <h1><i class="bi bi-house"></i></h1>    
                </a>
            </div>
            <div class="border-bottom border-primary border-5" >
                <a href="/noti">
                    <h1><i class="bi bi-newspaper"></i></h1>    
                </a>
            </div>
            <div>
                <a href="#">
                    <h1><i class="bi bi-calendar-date"></i></h1>    
                </a>
            </div>
            <div>
                <a href="/profile/<%= locals.user.mssv%> ">
                    <h1><i class="bi bi-person-circle"></i></h1>
                </a>
            </div>
            <div>
                <a href="/logout">
                    <h1><i class="bi bi-box-arrow-right"></i></h1>
                </a>
            </div>
        </div>
    </nav>
    <div class="news-container">
        <div class="col-md-12">
            <h2 class="news-title" name="<%= locals.noti._id %>">
                <%= locals.noti.title %> 
            </h2>
            <div class="news-article-summary">
                <u><i><a style="color:#0061AD !important;" href="/noti?faculty=<%= locals.noti.faculty %>"><%= locals.noti.faculty %> </a>
                </i>&nbsp;|<i><%= noti.date %>  </i></u>
            </div>

            <% if (locals.admin){ %> 
                <% if (locals.admin.username == locals.noti.owner) {%> 
                    <div>
                        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#confirmDelete" name="<%= locals.noti._id %>" onclick="delete_noti(this.name)">
                            <i class="bi bi-trash-fill"></i>
                        </button>
                        <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#editContentModal" name="<%= locals.noti._id %>" onclick="edit_noti(this.name)">
                            <i class="bi bi-gear-fill"></i>
                        </button>
                    </div>
                <% } %> 
            <% } %> 
            <br>
            <br>
            <div class="news-article-content" id="new_content">
                <p name="<%= locals.noti._id %>"><%= locals.noti.content %></p>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editContentModal" tabindex="-1" aria-labelledby="editContentModal" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="editContentModal">Edit</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input class="form-control" type="text" name="edit-title" id="title-update">
                <input class="form-control" type="text" name="edit-content" id="content-update">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="btn-close-modal-edit">Close</button>
              <button type="button" class="btn btn-primary" id="edit-noti-btn">Save changes</button>
            </div>
          </div>
        </div>

      </div><div class="modal fade" id="confirmDelete" tabindex="-1" aria-labelledby="confirmDelete" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="confirmDelete">Do you want to delete this post</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="btn-close-modal-delete">Close</button>
              <button type="button" class="btn btn-danger" id="delete-noti-btn">Delete</button>
            </div>
          </div>
        </div>
      </div>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="/public/javascripts/main.js"></script>
</body>
</html>


